<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
    <script src="./p5.play.js"></script>
  </head>
  <body>
    <script>
      function preload() {
        bubble_ss = loadSpriteSheet(
          "https://cdn.glitch.com/dc122c87-3702-4e86-8f63-eea043d864ca%2Fezgif-6-54b25e0a96a3.png?v=1628769250046",
          100,
          100,
          10
        );

        shield_img = loadImage(
          "https://cdn.glitch.com/47ac8f1f-af92-4090-8297-011c5a69600c%2Fhjm-kite_shield%20by%20varkalander%20(transp).png?v=1629390294736"
        );
        armor7_img = loadImage(
          "https://cdn.glitch.com/47ac8f1f-af92-4090-8297-011c5a69600c%2F7.png?v=1629390774579"
        );
      }
      function setup() {
        shield_found = true;
        armor7_found = false;
        createCanvas(600, 600);
        rectMode(CENTER);
        bubble_stand = loadAnimation(bubble_ss);
        bubble_stand.stop();
        bubble_move = loadAnimation(bubble_ss);
        bubble = createSprite(width / 2, height / 2, 45, 66);
        bubble.addAnimation("stand", bubble_stand);
        bubble.addAnimation("move", bubble_move);
        bubble.onMousePressed = function() {
          armor7_found = true;
        };
      }

      function draw() {
        background("black");
        if (shield_found) image(shield_img, 300, 300);

        if (armor7_found) image(armor7_img, 100, 100);

        if (keyDown("a") || keyDown("s") || keyDown("d") || keyDown("w"))
          bubble.changeAnimation("move");

        if (
          keyWentUp("a") ||
          keyWentUp("s") ||
          keyWentUp("d") ||
          keyWentUp("w")
        )
          bubble.changeAnimation("stand");

        if (keyDown("d")) {
          bubble.position.x += 3;
        }
        if (keyDown("a")) {
          bubble.position.x -= 3;
        }
        if (keyDown("s")) {
          bubble.position.y += 3;
        }
        if (keyDown("w")) {
          bubble.position.y -= 3;
        }

        drawSprites();
      }
    </script>
    <pre>
      Credit: Angelee
      https://artsyangelee.deviantart.com
      https://opengameart.org/content/sword-dialog-box
    </pre>
  </body>
</html>
