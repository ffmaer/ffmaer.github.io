{"version":3,"sources":["config.js","NewPerson.js","Timeline.js","Suggest.js","Login.js","App.js","reportWebVitals.js","index.js"],"names":["config","origin","window","location","NewPerson","props","submitHandler","e","a","preventDefault","body","this","createBody","fetch","method","headers","JSON","stringify","res","status","json","person","id","addNewPersonToTimeline","console","log","state","born_year","name","tags","tag","push","join","username","localStorage","getItem","token","Object","values","tagInfo","map","index","type","onChange","target","checked","setState","htmlFor","title","desc","login","onSubmit","bind","className","value","required","size","maxLength","pattern","placeholder","selectTags","React","Component","DeleteButton","handleOnClick","confirm","dataset","deletePerson","onClick","data-id","Name","href","rel","Tags","split","hasOwnProperty","tag_info","source","style","color","Person","AppTitle","Timeline","people","filter","parseInt","timeline","Suggest","message_timeout","useState","suggestion","setSuggestion","setName","message","setMessage","handleSubmit","clearTimeout","setTimeout","suggest","rows","Login","setUsername","password","setPassword","not_found","setItem","setLogin","setPage","error","TopBar","clear","App","page","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cc7689b8.chunk.js","sourcesContent":["const config={\r\n    origin: process.env.NODE_ENV === \"development\" ? \"//\"+window.location.hostname+\":3000\" : window.location.origin,\r\n}\r\nexport default config","import React from 'react';\r\nimport config from \"./config\"\r\nimport './NewPerson.css'\r\n\r\nclass NewPerson extends React.Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            born_year:\"\",\r\n            name:\"\",\r\n            tags:{}\r\n        }\r\n    }\r\n\r\n    createBody(){\r\n        let body = {...this.state}\r\n        let tags = []\r\n        for(let tag in body.tags){\r\n            if(body.tags[tag] === true){\r\n                tags.push(tag)\r\n            }\r\n        }\r\n        body.tags = tags.join(\",\")\r\n        body.username = localStorage.getItem(\"username\")\r\n        body.token = localStorage.getItem(\"token\")\r\n        return body\r\n    }\r\n\r\n    submitHandler = async function(e){\r\n        e.preventDefault()\r\n        let body = this.createBody()\r\n        let res = await fetch(config.origin+'/people/add',\r\n        {   method:\"POST\",\r\n            headers: {'Content-Type': 'application/json'},\r\n            body:JSON.stringify(body)\r\n        })\r\n        if(res.status === 200){\r\n            let json = await res.json()\r\n            let person = body\r\n            person.id = json.id\r\n            this.props.addNewPersonToTimeline(person)\r\n        }\r\n        console.log(res.status)\r\n    }\r\n   \r\n    selectTags(){\r\n        let tags = Object.values(this.props.tagInfo)\r\n        return (\r\n        <div>\r\n            {tags.map((tag,index)=>\r\n                <div key={index}>\r\n                    <input name={tag.tag} id={tag.tag} type=\"checkbox\" onChange={\r\n                        (e)=>{\r\n                            let tags = {...this.state.tags}\r\n                            tags[tag.tag] = e.target.checked\r\n                            this.setState({tags})\r\n                        }\r\n                    }/>\r\n                    <label htmlFor={tag.tag} title={tag.desc}>{tag.tag}</label>\r\n                </div>\r\n            )}\r\n        </div>\r\n        )\r\n    }\r\n\r\n    render(){\r\n        if(!this.props.login) return null\r\n        return (\r\n            <form onSubmit={this.submitHandler.bind(this)} className=\"new-person\">\r\n                <span>├ </span>\r\n                \r\n                <input type=\"text\" name=\"born_year\" value={this.state.born_year} onChange={(e)=>this.setState({born_year:e.target.value})} required=\"required\" size=\"4\" maxLength=\"4\" pattern=\"[0-9]{4}\" title=\"year of birth, e.g. 1910\" placeholder=\"1910\"/>\r\n\r\n                <input type=\"text\" name=\"name\" value={this.state.name} onChange={(e)=>this.setState({name:e.target.value})} required=\"required\" size=\"16\" title=\"name\" placeholder=\"name\"/>\r\n\r\n                <br/>\r\n\r\n                {this.selectTags()}\r\n\r\n                <input type=\"submit\"/>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NewPerson;","import React from 'react';\r\nimport NewPerson from './NewPerson'\r\nimport config from './config'\r\nimport './Timeline.css'\r\n\r\nfunction DeleteButton(props){\r\n\r\n  const handleOnClick = async (e)=>{\r\n    let response = window.confirm(`Remove ${props.name}?`);\r\n    if(response){\r\n      let body = {\r\n        id: e.target.dataset.id,\r\n        username: localStorage.getItem(\"username\"),\r\n        token: localStorage.getItem(\"token\")\r\n      }\r\n      let res = await fetch(config.origin+\"/people/delete\", {\r\n        method:'DELETE', \r\n        headers: {'Content-Type': 'application/json'},\r\n        body:JSON.stringify(body)\r\n      })\r\n      if(res.status === 200){\r\n        props.deletePerson(e.target.dataset.id)\r\n      }\r\n    }\r\n  }\r\n\r\n  if(!props.login) return null\r\n  return <button className=\"delete-button\" onClick={handleOnClick} data-id={props.id} title={props.name}>x</button>\r\n\r\n}\r\n\r\nfunction Name(props){\r\n  return <a className=\"name\" href={\"https://www.bing.com/search?q=\"+props.person.name} target=\"_blank\" rel=\"noreferrer\">{props.person.name}</a>\r\n}\r\n\r\nfunction Tags(props){\r\n  \r\n  return <span className=\"tag\">{props.tags.split(\",\").map((tag,index)=>{\r\n    if (!props.tagInfo.hasOwnProperty(tag)) return null\r\n    let tag_info = props.tagInfo[tag]\r\n    return (\r\n      <a rel=\"noreferrer\" target=\"_blank\" href={tag_info.source} key={index} title={tag_info.desc}style={{color:tag_info.color}}>⬤</a>\r\n    )\r\n  }\r\n    \r\n  )}</span>\r\n}\r\n\r\nfunction Person(props){\r\n  return (\r\n    <div key={props.index}>\r\n      <span>├ </span>\r\n      <span className='timeline'>{props.person.born_year}</span>\r\n      &nbsp;\r\n      <Name person={props.person}/>\r\n      <DeleteButton \r\n        name={props.person.name} \r\n        id={props.person.id} \r\n        deletePerson={props.deletePerson}\r\n        login={props.login}/>\r\n      <Tags tags={props.person.tags} tagInfo={props.tagInfo}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction AppTitle(props){\r\n  return <div className='page-title'>\r\n    Computer Art\r\n    <br/>\r\n    Timeline\r\n  </div>\r\n}\r\n\r\nclass Timeline extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        people: [],\r\n        tagInfo: {}\r\n      };\r\n    }\r\n\r\n    async componentDidMount() {\r\n      try{\r\n        let people = await (await fetch(config.origin+\"/people\", {method:\"GET\"})).json()\r\n        let tags = await (await fetch(config.origin+\"/tags\", {method:\"GET\"})).json()\r\n        let tagInfo = {}\r\n        for(let tag of tags){\r\n          tagInfo[tag.tag] = tag\r\n        }\r\n        this.setState({people,tagInfo})\r\n      }catch(err){\r\n        console.log(err);\r\n      }\r\n    }\r\n\r\n    addNewPersonToTimeline(person){\r\n      this.setState({people:[...this.state.people, person]})\r\n    } \r\n\r\n    deletePerson(id){\r\n      this.setState({people: this.state.people.filter((person)=> person.id !== parseInt(id))})\r\n    }\r\n  \r\n    render() {\r\n      if(!this.props.timeline) return null\r\n      return (\r\n        <div>\r\n          <AppTitle/>\r\n          {this.state.people.map((person,index)=>\r\n            <Person \r\n              tagInfo={this.state.tagInfo} \r\n              person={person} \r\n              key={index} \r\n              deletePerson={this.deletePerson.bind(this)}\r\n              login={this.props.login}/>\r\n          )}\r\n          <NewPerson \r\n            tagInfo={this.state.tagInfo} \r\n            addNewPersonToTimeline={this.addNewPersonToTimeline.bind(this)}\r\n            login={this.props.login}/>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\nexport default Timeline;","import './Suggest.css'\r\nimport React, { useState } from 'react';\r\nimport config from './config'\r\n\r\nfunction Suggest(props){\r\n    const [suggestion, setSuggestion] = useState(\"\");\r\n    const [name, setName] = useState(\"\");\r\n    const [message, setMessage] = useState(\"\");\r\n    let message_timeout\r\n\r\n    const handleSubmit = async (e)=>{\r\n        e.preventDefault()\r\n        let body = {\r\n            name,\r\n            suggestion\r\n        }\r\n        let res = await fetch(config.origin+'/suggestions/add',{\r\n            method:'POST',\r\n            headers:{'Content-Type':'application/json'},\r\n            body:JSON.stringify(body)\r\n        })\r\n        console.log(res.status)\r\n        if(res.status === 200){\r\n            setMessage(`Your suggestion is recorded!`)\r\n            setName('')\r\n        }else{\r\n            setMessage(`Something was not right.`)\r\n            clearTimeout(message_timeout)\r\n            message_timeout = setTimeout(()=>{\r\n                setMessage('')\r\n            },10000)\r\n        }\r\n    }\r\n    if(!props.suggest) return null\r\n    return <>\r\n        <div className='page-title'>\r\n            Make a Suggestion\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit}>\r\n                <label htmlFor=\"suggest-suggestion\" className=\"suggestion-label\">Please suggest someone, a list of people or maybe a link where we can find a list of people.</label>\r\n            <br/>\r\n            <textarea \r\n            value={suggestion} \r\n            name=\"suggestion\" \r\n            id=\"suggest-suggestion\"\r\n            placeholder=\"\" \r\n            rows=\"15\" \r\n            className=\"suggest-form-element\" \r\n            onChange={(e)=>{setSuggestion(e.target.value)}}\r\n            required/>\r\n\r\n            <br/>\r\n\r\n            <label htmlFor=\"suggest-name\">Your (nick)name</label>\r\n\r\n            <br/>\r\n\r\n            <input \r\n            value={name} \r\n            id=\"suggest-name\" \r\n            type=\"text\" \r\n            placeholder=\"So that we can thank you for your suggestion.\" \r\n            className=\"suggest-form-element\" \r\n            onChange={(e)=>{setName(e.target.value)}}\r\n            required/>\r\n            \r\n            <br/>\r\n            <br/>\r\n\r\n            <input type=\"submit\"/>\r\n\r\n            <div>{message}</div>\r\n\r\n        </form>\r\n    </>\r\n}\r\n\r\nexport default Suggest","import './Login.css'\r\nimport {useState} from 'react'\r\nimport config from './config'\r\n\r\nfunction Login(props){\r\n\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [message, setMessage] = useState('')\r\n\r\n    let message_timeout\r\n\r\n    const handleSubmit = async (e)=>{\r\n        e.preventDefault()\r\n        let body = {\r\n            username,\r\n            password\r\n        }\r\n        let res = await fetch(config.origin+'/users/auth',\r\n        {\r\n            method:\"POST\",\r\n            headers: {'Content-Type': 'application/json'},\r\n            body:JSON.stringify(body)\r\n        }\r\n        )\r\n        if(res.status === 200){\r\n            res = await res.json()\r\n            if(res.not_found){\r\n                setMessage('Please check the username and password.')\r\n                clearTimeout(message_timeout)\r\n                message_timeout = setTimeout(()=>{\r\n                    setMessage('')\r\n                },10000)\r\n            }else{\r\n                localStorage.setItem(\"token\", res.token)\r\n                localStorage.setItem(\"username\", res.username)\r\n                props.setLogin(true)\r\n                props.setPage('timeline')\r\n            }\r\n        }else if(res.status === 400){\r\n            res = await res.json()\r\n            console.log(res.error)\r\n        }\r\n    }\r\n\r\n    if(!props.login) return null\r\n    return<>\r\n        <div className='page-title'>\r\n            Login\r\n        </div>\r\n        <form onSubmit={handleSubmit}>\r\n            <label>Username</label>\r\n\r\n            <br/>\r\n\r\n            <input \r\n            value={username}\r\n            className=\"login-form-element\"\r\n            required\r\n            onChange={(e)=>{setUsername(e.target.value)}}/>\r\n\r\n            <br/>\r\n            \r\n            <label>Password</label>\r\n\r\n            <br/>\r\n\r\n            <input \r\n            value={password}\r\n            className=\"login-form-element\"\r\n            type='password'\r\n            required\r\n            onChange={(e)=>{setPassword(e.target.value)}}/>\r\n\r\n            <br/>\r\n            <br/>\r\n\r\n            <input type=\"submit\"/>\r\n\r\n            <div>{message}</div>\r\n        </form>\r\n    </>\r\n}\r\n\r\nexport default Login","import React, { useState } from 'react';\nimport './App.css';\nimport Timeline from './Timeline'\nimport Suggest from './Suggest'\nimport Login from './Login'\n\nfunction TopBar(props){\n  return (\n    <div id=\"top-bar\">\n\n      <div className=\"app-title\">\n        <div>Computer Art Timeline</div>\n      </div>\n\n      <div className=\"timeline\">\n        <button onClick={(e)=>{props.setPage('timeline')}}>timeline</button>\n      </div>\n\n      <div className=\"suggest\">\n        <button onClick={(e)=>{props.setPage('suggest')}}>suggest</button>\n      </div>\n\n        <div className=\"login-logout\">\n          {!props.login &&\n            <button onClick={(e)=>{props.setPage('login')}}>login</button>\n          }\n          {props.login &&\n              <button onClick={(e)=>{\n                props.setLogin(false)\n                localStorage.clear()\n              }}>logout</button>\n          }\n        </div>\n\n\n    </div>\n  )\n}\n\nfunction App() {\n\n  const [page, setPage] = useState(\"timeline\")\n  const [login, setLogin] = useState(localStorage.getItem(\"username\") !== null)\n\n  if(process.env.NODE_ENV === \"development\")\n    console.log(`You are running this application in %c${process.env.NODE_ENV}%c mode.`,'color:blue', 'color:black')\n\n  return (\n    <div className=\"App\">\n      <TopBar \n      setPage={setPage} \n      setLogin={setLogin} \n      login={login}/>\n      <div id=\"main\">\n        <div>\n          <Login \n          login={page === 'login'} \n          setLogin={setLogin}\n          setPage={setPage}/>\n          <Suggest suggest={page === 'suggest'}/>\n          <Timeline timeline={page === 'timeline'} login={login}/>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}