<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
    <script src="./p5.play.js"></script>
  </head>
  <body>
    <script>
      function preload() {
        bubble_ss = loadSpriteSheet(
          "https://cdn.glitch.com/dc122c87-3702-4e86-8f63-eea043d864ca%2Fezgif-6-54b25e0a96a3.png?v=1628769250046",
          100,
          100,
          10
        );
        dialogue_img = loadImage(
          "https://cdn.glitch.com/cbf71509-c76d-44c7-801d-a7458d881135%2Fdialogbox2.png?v=1629389413578"
        );
      }

      function setup() {
        createCanvas(1417, 800);
        rectMode(CENTER);
        bubble_stand = loadAnimation(bubble_ss);
        bubble_stand.stop();
        bubble_move = loadAnimation(bubble_ss);
        bubble = createSprite(width / 2, height / 2, 45, 66);
        bubble.addAnimation("stand", bubble_stand);
        bubble.addAnimation("move", bubble_move);
        dialogue = createSprite(width / 2, 600, width, 400);
        dialogue.draw = function() {
          image(dialogue_img, 0, 0);
        };
        dialogue.visible = false;
        bubble.onMousePressed = function() {
          dialogue.visible = true;
        };
        dialogue.onMousePressed = function() {
          this.visible = false;
        };
      }

      function draw() {
        background("black");
        if (keyDown("a") || keyDown("s") || keyDown("d") || keyDown("w"))
          bubble.changeAnimation("move");

        if (
          keyWentUp("a") ||
          keyWentUp("s") ||
          keyWentUp("d") ||
          keyWentUp("w")
        )
          bubble.changeAnimation("stand");

        if (keyDown("d")) {
          bubble.position.x += 3;
        }
        if (keyDown("a")) {
          bubble.position.x -= 3;
        }
        if (keyDown("s")) {
          bubble.position.y += 3;
        }
        if (keyDown("w")) {
          bubble.position.y -= 3;
        }

        drawSprites();
      }
    </script>
    <pre>
      Credit: Angelee
      https://artsyangelee.deviantart.com
      https://opengameart.org/content/sword-dialog-box
    </pre>
  </body>
</html>
